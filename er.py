import streamlit as st
import pandas as pd
import time
import random

# å‡è®¾æ•°æ®å­—å…¸ï¼ŒåŒ…å«å„é¤å…åœ¨ä¸åŒæœˆä»½çš„äººå‡æ¶ˆè´¹
data = {
    "é¤å…": ["æ˜Ÿè‰ºä¼šå°ä¸å¿˜", "é«˜å³°æŸ æª¬é¸­", "å¤è®°è€å‹ç²‰", "å¥½å‹ç¼˜", "è¥¿å†·ç‰›æ’åº—"],
    "ç±»å‹": ["ä¸­é¤", "ä¸­é¤", "å¿«é¤", "è‡ªåŠ©é¤", "è¥¿é¤"],
    "è¯„åˆ†": [4.2, 4.5, 4.0, 4.7, 4.3],
    "latitude": [22.853838, 22.965046, 22.812200, 22.809105, 22.839699],
    "longitude": [108.222177, 108.353921, 108.266629, 108.378664, 108.245804],
    "æµé‡": [0,25,50,75,100],
    "ä¸€æœˆ": [10, 15, 20, 25, 30],
    "äºŒæœˆ": [12, 18, 22, 27, 32],
    "ä¸‰æœˆ": [14, 20, 24, 29, 34],
    "å››æœˆ": [16, 22, 26, 31, 36],
    "äº”æœˆ": [18, 24, 28, 33, 38],
    "å…­æœˆ": [20, 26, 30, 35, 40],
    "ä¸ƒæœˆ": [22, 28, 32, 37, 42],
    "å…«æœˆ": [24, 30, 34, 39, 44],
    "ä¹æœˆ": [26, 32, 36, 41, 46],
    "åæœˆ": [28, 34, 38, 43, 48],
    "åä¸€æœˆ": [30, 36, 40, 45, 50],
    "åäºŒæœˆ": [32, 38, 42, 47, 52],
    "æœˆä»½": ["ä¸€æœˆ", "å››æœˆ","ä¸ƒæœˆ", "åæœˆ", "åäºŒæœˆ"],
    "æ˜Ÿè‰ºä¼šå°ä¸å¿˜":[10, 15, 27, 18, 8], 
    "é«˜å³°æŸ æª¬é¸­":[3, 7, 41, 21, 10],
    "å¤è®°è€å‹ç²‰":[5, 14, 19, 25, 7],
    "å¥½å‹ç¼˜":[13, 19, 51, 66, 12],
    "è¥¿å†·ç‰›æ’åº—":[3, 8, 13, 18, 23],
    "æ—¶æ®µ":["10:00", "12:00", "14:00", "16:00", "18:00"]
}

# æ„å»º DataFrame
df = pd.DataFrame(data)

st.header('ğŸ”ç¾é£Ÿæ¢ç´¢')
st.text("æ¢ç´¢å¹¿è¥¿å—å®æœ€å—æ¬¢è¿çš„ç¾é£Ÿåœ°ç‚¹ï¼é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„é¤å…ç±»å‹ï¼ŒæŸ¥çœ‹è¯„åˆ†å’Œä½ç½®ã€‚")

st.header('ğŸ“å—å®ç‰¹è‰²ç¾é£Ÿåœ°å›¾')

# åœ¨åœ°å›¾ä¸Šå±•ç¤ºé¤å…çš„ä½ç½®
st.map(df[["latitude", "longitude"]])

st.header('â­é¤å…è¯„åˆ†')

# ç»˜åˆ¶é¤å…è¯„åˆ†çš„æŸ±çŠ¶å›¾
st.bar_chart(df, x="é¤å…", y="è¯„åˆ†")

st.header('ğŸ’°é¤å…æœˆæµæ°´')

# ä½¿ç”¨ st.line_chart ç»˜åˆ¶æŠ˜çº¿å›¾
st.line_chart(df,x="æœˆä»½",y=["æ˜Ÿè‰ºä¼šå°ä¸å¿˜", "é«˜å³°æŸ æª¬é¸­", "å¤è®°è€å‹ç²‰", "å¥½å‹ç¼˜", "è¥¿å†·ç‰›æ’åº—"])

st.header('â±ç”¨é¤é«˜å³°æ—¶æ®µ')

# ç»˜åˆ¶é¤å…æµé‡çš„é¢ç§¯å›¾
st.area_chart(df,x="æ—¶æ®µ",y=["æ˜Ÿè‰ºä¼šå°ä¸å¿˜", "é«˜å³°æŸ æª¬é¸­", "å¤è®°è€å‹ç²‰", "å¥½å‹ç¼˜", "è¥¿å†·ç‰›æ’åº—"])

st.header('ğŸ½é¤å…è¯¦ç»†')

city = st.selectbox(
    'é€‰æ‹©é¤å…ï¼š',
    ["æ˜Ÿè‰ºä¼šå°ä¸å¿˜", "é«˜å³°æŸ æª¬é¸­", "å¤è®°è€å‹ç²‰", "å¥½å‹ç¼˜", "è¥¿å†·ç‰›æ’åº—"],
    index=2
)

col1, col2 = st.columns(2)
with col1:
    df_info = df[df['é¤å…'] == city].iloc[0]
    st.subheader(city)
    st.markdown(f"**è¯„åˆ†ï¼š** {df_info['è¯„åˆ†']}/5.0")
    st.markdown(f"**äººå‡æ¶ˆè´¹:** {df_info['åäºŒæœˆ']}å…ƒ")

with col2:
    st.subheader("è¯¦ç»†ä¿¡æ¯")
    st.markdown(f"**è¯„åˆ†:** {df_info['è¯„åˆ†']}/5.0")
    st.markdown(f"**åæ ‡:** {df_info['latitude']}, {df_info['longitude']}")


st.header("å½“å‰æ‹¥æŒ¤ç¨‹åº¦") # åˆ›å»ºç« èŠ‚
progress_text_1='84%æ‹¥æŒ¤'
# åˆ›å»ºè¿›åº¦æ¡
my_bar=st.progress(85,text=progress_text_1)

st.subheader("ğŸ²ä»Šæ—¥åˆé¤")
if st.button('å¸®æˆ‘æ¨èåˆé¤'):
    num=random.randint(1,10)%5

    if(num==0):
        st.text("ä»Šæ—¥æ¨èï¼šæ˜Ÿè‰ºä¼šå°ä¸å¿˜")
        st.image("https://cp1.douguo.com/upload/caiku/2/6/6/960_26286938fcda84f4b9638202951297b6.jpeg", caption='ç¾é£Ÿåˆé¤ç­‰ä½ ')
    if(num==1):
        st.text("ä»Šæ—¥æ¨èï¼šé«˜å³°æŸ æª¬é¸­")
        st.image("https://cp1.douguo.com/upload/caiku/2/6/6/960_26286938fcda84f4b9638202951297b6.jpeg", caption='ç¾é£Ÿåˆé¤ç­‰ä½ ')
    if(num==2):
        st.text("ä»Šæ—¥æ¨èï¼šå¤è®°è€å‹ç²‰")
        st.image("https://cp1.douguo.com/upload/caiku/2/6/6/960_26286938fcda84f4b9638202951297b6.jpeg", caption='ç¾é£Ÿåˆé¤ç­‰ä½ ')        
    if(num==3):
        st.text( "ä»Šæ—¥æ¨èï¼šå¥½å‹ç¼˜")
        st.image("https://cp1.douguo.com/upload/caiku/2/6/6/960_26286938fcda84f4b9638202951297b6.jpeg", caption='ç¾é£Ÿåˆé¤ç­‰ä½ ')
    if(num==4):
        st.text("ä»Šæ—¥æ¨èï¼šè¥¿å†·ç‰›æ’åº—")
        st.image("https://cp1.douguo.com/upload/caiku/2/6/6/960_26286938fcda84f4b9638202951297b6.jpeg", caption='ç¾é£Ÿåˆé¤ç­‰ä½ ')


